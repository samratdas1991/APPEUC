<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<contentHaul xmlns:a="http://www.appian.com/ae/types/2009">
    <versionUuid>_a-0000e5c3-a65f-8000-5268-1bef901bef90_766237</versionUuid>
    <rule>
        <name>EAP_DwfProcessControllerConfigGridRowLayout</name>
        <uuid>_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365752</uuid>
        <description>Holds gridRowLayout for Process Controller Editable grid</description>
        <parentUuid>_a-0000e4c3-7a1b-8000-524f-1bef901bef90_6574</parentUuid>
        <visibility>
            <advertise>false</advertise>
            <hierarchy>true</hierarchy>
            <indexable>true</indexable>
            <quota>false</quota>
            <searchable>true</searchable>
            <system>false</system>
            <unlogged>false</unlogged>
        </visibility>
        <definition>a!localVariables(
  local!processControllerMaster: #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_359325"(
    processControllerMasterId: ri!manageWorkflowId
  ),
  local!parsingData: #"_a-0000e4c3-ab68-8000-5250-1bef901bef90_7456"(
    inFileTypeConfigId: index(
      ri!processControllerConfig,
      "parsing_id",
      {}
    )
  ),
  local!transformationDropdown: #"_a-0000e4c6-e892-8000-5254-1bef901bef90_24591"(
    runConfigId: index(
      local!processControllerMaster,
      "run_config_id",
      {}
    )
  ),
  local!dataValidationDropdown: #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_377303"(
    runConfigId: index(
      local!processControllerMaster,
      "run_config_id",
      {}
    )
  ),
  {
    #"SYSTEM_SYSRULES_gridRowLayout"(
      id: ri!index,
      contents: {
        /*IO Config Names*/
        if(
          #"_a-0000e4b2-6487-8000-2b63-01ef9001ef90_3233095"(index(
            ri!processControllerConfig[ri!index],
            "process_controller_config_id",
            {}
          )),
          #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_287171"(
            isReadOnly: if(
              or(
                ri!isReadOnly,
                tointeger(
                  ri!selectedNextStep
                ) = tointeger(
                  #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[3]
                )
              ),
              true(),
              false()
            ),
            placeholderLabel: "--Select IO Config--",
            choiceLabels: {
              touniformstring(
                index(
                  index(
                    ri!sourceConfigDetail,
                    wherecontains(
                      true(),
                      toboolean(index(ri!sourceConfigDetail,"is_active",{}))
                    ),
                    {}
                  ),
                  "config_data_name",
                  {}
                )
              )
            },
            choiceValues: {
              tointeger(
                index(
                  index(
                    ri!sourceConfigDetail,
                    wherecontains(
                      true(),
                      toboolean(index(ri!sourceConfigDetail,"is_active",{}))
                    ),
                    {}
                  ),
                  "config_id",
                  {}
                )
              )
            },
            value: if(
              contains(
                {
                  tointeger(
                    index(
                      ri!sourceConfigDetail,
                      "config_id",
                      {}
                    )
                  )
                },
                index(
                  ri!processControllerConfig[ri!index],
                  "io_config_id",
                  {}
                )
              ),
              index(
                ri!processControllerConfig[ri!index],
                "io_config_id",
                {}
              ),
              null
            ),
            saveInto: {
              a!save(
                ri!processControllerConfig[ri!index].io_config_id,
                save!value
              )
            },
            required: true(),
            validations: if(
              count(
                wherecontains(
                  tointeger(
                    index(
                      ri!processControllerConfig[ri!index],
                      "io_config_id",
                      {}
                    )
                  ),
                  tointeger(
                    index(
                      ri!processControllerConfig,
                      "io_config_id",
                      {}
                    )
                  )
                )
              ) &gt; 1,
              "Duplicate config name!",
              {}
            ),
            showWhen: if(
              or(
                tointeger(
                  ri!selectedNextStep
                ) = #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[2],
                tointeger(
                  ri!selectedNextStep
                ) = #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[3]/*tointeger(*/
                /*ri!selectedNextStep*/
                /*) = cons!EAP_DWF_PROCESSCONTROLLER_STEPS[8]*/

              ),
              true(),
              false()
            )
          ),
          #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_285963"(
            readOnly: true(),
            value: index(
              index(
              ri!sourceConfigDetail,
              wherecontains(
                  index(
                  ri!processControllerConfig[ri!index],
                  "io_config_id",
                  {}
                ),
                tointeger(index(ri!sourceConfigDetail,"config_id",{}))
              ),
              {}
            ),
            "config_data_name",
            {}
            ),
            showWhen: if(
              or(
                tointeger(
                  ri!selectedNextStep
                ) = #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[2],
                tointeger(
                  ri!selectedNextStep
                ) = #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[3]

              ),
              true(),
              false()
            )
          )
        ),
        /*Process Parameters*/
        if(
          not(ri!isReadOnly),
          #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_287171"(
            placeholderLabel: "--Select Process Parameters--",
            choiceLabels: {
              touniformstring(
                index(
                  index(
                    ri!processParamData,
                    wherecontains(
                      true(),
                      toboolean(index(ri!processParamData,"active",{}))
                    ),
                    {}
                  ),
                  "page_display_name",
                  {}
                )
              )
            },
            choiceValues: {
              tointeger(
                index(
                  index(
                    ri!processParamData,
                    wherecontains(
                      true(),
                      toboolean(index(ri!processParamData,"active",{}))
                    ),
                    {}
                  ),
                  "process_param_pg_id",
                  {}
                )
              )
            },
            value: if(
              contains(
                {
                  tointeger(
                    index(
                      ri!processParamData,
                      "process_param_pg_id",
                      {}
                    )
                  )
                },
                index(
                  ri!processControllerConfig[ri!index],
                  "process_param_pg_id",
                  {}
                )
              ),
              index(
                ri!processControllerConfig[ri!index],
                "process_param_pg_id",
                {}
              ),
              null
            ),
            saveInto: {
              a!save(
                ri!processControllerConfig[ri!index].process_param_pg_id,
                save!value
              )
            },
            required: true(),
            showWhen: if(
              or(
                tointeger(
                  ri!selectedNextStep
                ) = #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[14]
              ),
              true(),
              false()
            )
          ),
          #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_285963"(
            readOnly: true(),
            value: index(
              index(
                ri!processParamData,
                wherecontains(
                  index(
                    ri!processControllerConfig[ri!index],
                    "process_param_pg_id",
                    {}
                  ),
                  tointeger(index(ri!processParamData,"process_param_pg_id",{}))
                ),
                {}
              ),
              "page_display_name",
              {}
            ),
            showWhen: if(
              or(
                tointeger(
                  ri!selectedNextStep
                ) = #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[14]
              ),
              true(),
              false()
            )
          )
        ),
        /*IO Config Names Target*/
        #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_287171"(
          isReadOnly: if(
            or(
              ri!isReadOnly,
              tointeger(
                ri!selectedNextStep
              ) = tointeger(
                #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[3]
              )
            ),
            true(),
            false()
          ),
          placeholderLabel: "--Select IO Config--",
          choiceLabels: {
            touniformstring(
              index(
                ri!targetConfigDetail,
                "config_data_name",
                {}
              )
            )
          },
          choiceValues: {
            tointeger(
              index(
                ri!targetConfigDetail,
                "config_id",
                {}
              )
            )
          },
          value: if(
            contains(
              {
                tointeger(
                  index(
                    ri!targetConfigDetail,
                    "config_id",
                    {}
                  )
                )
              },
              index(
                ri!processControllerConfig[ri!index],
                "io_config_id",
                {}
              )
            ),
            index(
              ri!processControllerConfig[ri!index],
              "io_config_id",
              {}
            ),
            null
          ),
          saveInto: {
            a!save(
              ri!processControllerConfig[ri!index].io_config_id,
              save!value
            )
          },
          required: true(),
          validations: if(
            count(
              wherecontains(
                tointeger(
                  index(
                    ri!processControllerConfig[ri!index],
                    "io_config_id",
                    {}
                  )
                ),
                tointeger(
                  index(
                    ri!processControllerConfig,
                    "io_config_id",
                    {}
                  )
                )
              )
            ) &gt; 1,
            "Duplicate config name!",
            {}
          ),
          showWhen: if(
            or(
              tointeger(
                ri!selectedNextStep
              ) = #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[12]
            ),
            true(),
            false()
          ),
          disabled: if(
            #"_a-0000e4b2-6487-8000-2b63-01ef9001ef90_3233095"(index(
              ri!processControllerConfig[ri!index],
              "process_controller_config_id",
              {}
            )),
            false(),
            true()
          )
        ),
        /*Parsing*/
        #"SYSTEM_SYSRULES_textField"(
          readOnly: true(),
          required: true(),
          showWhen: if(
            or(
              tointeger(
                ri!selectedNextStep
              ) = (
                #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[3]
              )
            ),
            true(),
            false()
          ),
          value: index(
            local!parsingData,
            wherecontains(
              tointeger(
                index(
                  ri!processControllerConfig[ri!index],
                  "parsing_id",
                  {}
                )
              ),
              tointeger(
                index(
                  local!parsingData,
                  "in_file_type_config_id",
                  {}
                )
              )
            ),
            "file_config_name",
            {}
          ),
          saveInto: a!save(
            ri!processControllerConfig[ri!index].parsing_id,
            save!value
          )
        ),
        /*rule!EAP_SA_GenericTextField(*/
        /*isReadOnly: true(),*/
        /*showWhen: if(*/
        /*or(*/
        /*tointeger(*/
        /*ri!selectedNextStep*/
        /*) = (*/
        /*cons!EAP_DWF_PROCESSCONTROLLER_STEPS[3]*/
        /*)*/
        /*),*/
        /*true(),*/
        /*false()*/
        /*),*/
        /*value: index(*/
        /*local!parsingData,*/
        /*wherecontains(*/
        /*tointeger(index(*/
        /*ri!processControllerConfig[ri!index],*/
        /*"parsing_id",*/
        /*{}*/
        /*)),*/
        /*tointeger(index(local!parsingData,"in_file_type_config_id",{}))*/
        /*),*/
        /*"file_config_name",*/
        /*{}*/
        /*),*/
        /*saveInto: a!save(*/
        /*ri!processControllerConfig[ri!index].parsing_id,*/
        /*save!value*/
        /*)*/
        /*),*/
        /*rule!EAP_SA_GenericDropdown(*/
        /*isReadOnly: ri!isReadOnly,*/
        /*placeholderLabel: "--Select Parsing Config--",*/
        /*choiceLabels: {*/
        /*touniformstring(*/
        /*index(*/
        /*rule!EAP_QE_RefProcessInFileType(*/
        /*inFileTypeConfigId: index(*/
        /*ri!processControllerConfig,*/
        /*"parsing_id",*/
        /*{}*/
        /*)*/
        /*),*/
        /*"file_config_name",*/
        /*{}*/
        /*)*/
        /*)            */
        /*},*/
        /*choiceValues: {*/
        /*index(*/
        /*ri!processControllerConfig[ri!index],*/
        /*"parsing_id",*/
        /*{}*/
        /*)*/
        /*},*/
        /*value: index(*/
        /*ri!processControllerConfig[ri!index],*/
        /*"parsing_id",*/
        /*{}*/
        /*),*/
        /*saveInto: {*/
        /*a!save(*/
        /*ri!processControllerConfig[ri!index].parsing_id,*/
        /*save!value*/
        /*)*/
        /*},*/
        /*required: true(),*/
        /*showWhen: if(*/
        /*or(*/
        /*tointeger(*/
        /*ri!selectedNextStep*/
        /*) = (*/
        /*cons!EAP_DWF_PROCESSCONTROLLER_STEPS[3]*/
        /*)*/
        /*),*/
        /*true(),*/
        /*false()*/
        /*)*/
        /*),*/
        /*Transformation*/
        #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_287171"(
          isReadOnly: ri!isReadOnly,
          placeholderLabel: "--Select Transformation--",
          choiceLabels: {
            touniformstring(
              index(
                local!transformationDropdown,
                "version_description",
                {}
              )
            )
          },
          choiceValues: {
            tointeger(
              index(
                local!transformationDropdown,
                "template_config_id",
                {}
              )
            )
          },
          value: if(
            contains(
              {
                tointeger(
                  index(
                    local!transformationDropdown,
                    "template_config_id",
                    {}
                  )
                )
              },
              index(
                ri!processControllerConfig[ri!index],
                "transformation_id",
                {}
              )
            ),
            index(
              ri!processControllerConfig[ri!index],
              "transformation_id",
              {}
            ),
            null
          ),
          saveInto: {
            a!save(
              ri!processControllerConfig[ri!index].transformation_id,
              save!value
            )
          },
          required: true(),
          validations: {},
          showWhen: if(
            or(
              tointeger(
                ri!selectedNextStep
              ) = #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[4]
            ),
            true(),
            false()
          )
        ),
        /*DataValidation*/
        #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_287171"(
          isReadOnly: ri!isReadOnly,
          placeholderLabel: "--Select Data Validation--",
          choiceLabels: {
            touniformstring(
              index(
                local!dataValidationDropdown,
                "version_description",
                {}
              )
            )
          },
          choiceValues: {
            tointeger(
              index(
                local!dataValidationDropdown,
                "dv_template_config_id",
                {}
              )
            )
          },
          value: if(
            contains(
              {
                tointeger(
                  index(
                    local!dataValidationDropdown,
                    "dv_template_config_id",
                    {}
                  )
                )
              },
              index(
                ri!processControllerConfig[ri!index],
                "data_validation_id",
                {}
              )
            ),
            index(
              ri!processControllerConfig[ri!index],
              "data_validation_id",
              {}
            ),
            null
          ),
          saveInto: {
            a!save(
              ri!processControllerConfig[ri!index].data_validation_id,
              save!value
            )
          },
          required: true(),
          validations: {},
          showWhen: if(
            or(
              tointeger(
                ri!selectedNextStep
              ) = #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[11]
            ),
            true(),
            false()
          )
        ),
        /*Output Generation*/
        #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_287171"(
          isReadOnly: ri!isReadOnly,
          required: true(),
          placeholderLabel: "-- Select Output Generation -- ",
          choiceLabels: {
            touniformstring(
              index(
                ri!outputGenerationDropdown,
                "file_config_name",
                {}
              )
            )
          },
          choiceValues: {
            tointeger(
              index(
                ri!outputGenerationDropdown,
                "out_file_type_config_id",
                {}
              )
            )
          },
          showWhen: if(
            or(
              tointeger(
                ri!selectedNextStep
              ) = #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[8]
            ),
            true(),
            false()
          ),
          value: if(
            contains(
              {
                tointeger(
                  index(
                    ri!outputGenerationDropdown,
                    "out_file_type_config_id",
                    {}
                  )
                )
              },
              index(
                ri!processControllerConfig[ri!index],
                "output_generation_id",
                {}
              )
            ),
            index(
              ri!processControllerConfig[ri!index],
              "output_generation_id",
              {}
            ),
            null
          ),
          validations: if(
            count(
              wherecontains(
                tointeger(
                  index(
                    ri!processControllerConfig[ri!index],
                    "output_generation_id",
                    {}
                  )
                ),
                tointeger(
                  index(
                    ri!processControllerConfig,
                    "output_generation_id",
                    {}
                  )
                )
              )
            ) &gt; 1,
            "Duplicate Output Generation!",
            {}
          ),
          saveInto: a!save(
            ri!processControllerConfig[ri!index].output_generation_id,
            save!value
          )
        ),
        /*rule!EAP_SA_GenericDropdown(*/
        /*isReadOnly: ri!isReadOnly,*/
        /*placeholderLabel: "--Select Output Generation--",*/
        /*choiceLabels: {*/
        /*touniformstring(index(*/
        /*ri!outputGenerationDropdown,"file_config_name",{}*/
        /*))*/
        /*},*/
        /*choiceValues: {*/
        /*tointeger(index(*/
        /*ri!outputGenerationDropdown,"out_file_type_config_id",{}*/
        /*))*/
        /*},*/
        /*value: if(*/
        /*contains(*/
        /*{*/
        /*tointeger(index(*/
        /*ri!outputGenerationDropdown,"out_file_type_config_id",{}*/
        /*))*/
        /*},*/
        /*index(*/
        /*ri!processControllerConfig[ri!index],*/
        /*"output_generation_id",*/
        /*{}*/
        /*)*/
        /*),*/
        /*index(*/
        /*ri!processControllerConfig[ri!index],*/
        /*"output_generation_id",*/
        /*{}*/
        /*),*/
        /*null*/
        /*),*/
        /*saveInto: {*/
        /*a!save(*/
        /*ri!processControllerConfig[ri!index].output_generation_id,*/
        /*save!value*/
        /*)*/
        /*},*/
        /*required: true(),*/
        /*validations: {},*/
        /*showWhen: if(*/
        /*or(*/
        /*tointeger(*/
        /*ri!selectedNextStep*/
        /*) = cons!EAP_DWF_PROCESSCONTROLLER_STEPS[8]*/
        /*),*/
        /*true(),*/
        /*false()*/
        /*)*/
        /*),*/
        /*is Generic Process Model*/
        if(
          ri!isReadOnly,
          #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_285963"(
            value: if(
              contains(
                toboolean(
                  index(
                    ri!processControllerConfig[ri!index],
                    "is_generic_process_model",
                    {}
                  )
                ),
                true()
              ),
              "Yes",
              "No"
            ),
            showWhen: if(
              tointeger(
                index(
                  index(
                    ri!milestoneName,
                    wherecontains(
                      tointeger(
                        ri!selectedNextStep
                      ),
                      tointeger(
                        index(
                          ri!milestoneName,
                          "milestone_id",
                          {}
                        )
                      )
                    ),
                    {}
                  ),
                  "is_enable_custom_process_uuid",
                  {}
                )
              ) = 1,
              true(),
              false()
            ),
            readOnly: true()
          ),
          /*
          a!imageField(
            images: {
              a!documentImage(
                document: a!iconIndicator(
                  icon: if(
                    contains(
                      toboolean(
                        index(
                          ri!processControllerConfig[ri!index],
                          "is_generic_process_model",
                          {}
                        )
                      ),
                      true()
                    ),
                    "STATUS_OK",
                    "STATUS_NOTDONE"
                  )
                )
              )
            },
            align: "CENTER",
            showWhen: if(
              tointeger( index(
                index(
                  ri!milestoneName,
                  wherecontains(
                    tointeger(ri!selectedNextStep),
                    tointeger(index(ri!milestoneName,"milestone_id",{}))
                  ),
                  {}
                ),
                "is_enable_custom_process_uuid",{}
              )) = 1,
              true(),
              false()
            )

          ),
          */
          #"SYSTEM_SYSRULES_richTextDisplayField"(
            value: if(
              or(
                tointeger(
                  index(
                    ri!processControllerConfig[ri!index],
                    "is_generic_process_model",
                    {}
                  )
                ) = 1
              ),
              #"SYSTEM_SYSRULES_richTextIcon"(
                icon: "toggle-on",
                caption: "Yes",
                link: #"SYSTEM_SYSRULES_dynamicLink"(
                  saveInto: {
                    a!save(
                      ri!processControllerConfig[ri!index].is_generic_process_model,
                      0
                    )
                  },
                  showWhen: not(
                    ri!isReadOnly
                  )
                ),
                size: "MEDIUM_PLUS"
              ),
              #"SYSTEM_SYSRULES_richTextIcon"(
                icon: "toggle-off",
                caption: "No",
                link: #"SYSTEM_SYSRULES_dynamicLink"(
                  saveInto: {
                    a!save(
                      ri!processControllerConfig[ri!index].is_generic_process_model,
                      1
                    )
                  },
                  showWhen: not(
                    ri!isReadOnly
                  )
                ),
                size: "MEDIUM_PLUS"
              )
            ),
            align: "CENTER",
            showWhen: if(
              tointeger(
                index(
                  index(
                    ri!milestoneName,
                    wherecontains(
                      tointeger(
                        ri!selectedNextStep
                      ),
                      tointeger(
                        index(
                          ri!milestoneName,
                          "milestone_id",
                          {}
                        )
                      )
                    ),
                    {}
                  ),
                  "is_enable_custom_process_uuid",
                  {}
                )
              ) = 1,
              true(),
              false()
            )
          )
        ),
        /*Process Model UUID*/
        #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_285963"(
          readOnly: or(
            ri!isReadOnly,
            if(
              toboolean(
                index(
                  ri!processControllerConfig[ri!index],
                  "is_generic_process_model",
                  {}
                )
              ) = 0,
              false(),
              true()
            )
          ),
          value: index(
            ri!processControllerConfig[ri!index],
            "process_model_uuid",
            {}
          ),
          required: if(
            toboolean(
              index(
                ri!processControllerConfig[ri!index],
                "is_generic_process_model",
                {}
              )
            ) = 0,
            true(),
            false()
          ),
          saveInto: {
            a!save(
              ri!processControllerConfig[ri!index].process_model_uuid,
              save!value
            )
          },
          validations: {
            if(
              and(
                ri!selectedNextStep = #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[2],
                tointeger(
                  index(
                    ri!processControllerConfig[ri!index],
                    "is_system_driven",
                    {}
                  ) = 0
                )
              ),
              {
                if(
                  count(
                    union(
                      index(
                        index(
                          ri!processControllerConfig,
                          wherecontains(
                            tointeger(
                              0
                            ),
                            tointeger(
                              index(
                                ri!processControllerConfig,
                                "is_system_driven",
                                {}
                              )
                            )
                          ),
                          {}
                        ),
                        "process_model_uuid",
                        {}
                      ),
                      index(
                        index(
                          ri!processControllerConfig,
                          wherecontains(
                            tointeger(
                              0
                            ),
                            tointeger(
                              index(
                                ri!processControllerConfig,
                                "is_system_driven",
                                {}
                              )
                            )
                          ),
                          {}
                        ),
                        "process_model_uuid",
                        {}
                      )
                    )
                  ) &gt; 1,
                  "Process Model UUID's must be same for all IO Configs which are not system driven",
                  null
                )
              },
              {}
            ),
            if(
              index(
                split(
                  index(
                    split(
                      getprocessmodeldetailsbyuuid(
                        index(
                          ri!processControllerConfig[ri!index],
                          "process_model_uuid",
                          {}
                        )
                      ),
                      "UUID:"
                    ),
                    2,
                    {}
                  ),
                  ","
                ),
                1,
                {}
              ) = index(
                ri!processControllerConfig[ri!index],
                "process_model_uuid",
                {}
              ),
              {},
              "Not a valid UUID"
            )
          },
          showWhen: if(
            tointeger(
              index(
                index(
                  ri!milestoneName,
                  wherecontains(
                    tointeger(
                      ri!selectedNextStep
                    ),
                    tointeger(
                      index(
                        ri!milestoneName,
                        "milestone_id",
                        {}
                      )
                    )
                  ),
                  {}
                ),
                "is_enable_custom_process_uuid",
                {}
              )
            ) = 1,
            true(),
            false()
          )
        ),
        /*Button Action*/
        #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_287171"(
          isReadOnly: ri!isReadOnly,
          required: {
            if(
              or(tointeger(ri!selectedNextStep) = tointeger(#"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[10])),
              if(
                count(index(
                  ri!processControllerConfig,
                  "action",
                  {}
                ))&gt;1,
                true(),
                false()
              ),
              true()
            )            
          },
          placeholderLabel: "--Select Button Action--",
          value: if(
            contains(
              touniformstring(if(
                or(tointeger(
                  ri!selectedNextStep
                ) = tointeger(
                  #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[5]
                )),
                #"_a-0000e54c-ce50-8000-5260-1bef901bef90_565528",
                if(
                  or(tointeger(
                    ri!selectedNextStep
                  ) = tointeger(
                    #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[6]
                  ),
                  tointeger(
                    ri!selectedNextStep
                  ) = tointeger(
                    #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[7]
                  )),
                  #"_a-0000e54c-ce50-8000-5260-1bef901bef90_565534",
                  index(
                    ri!masterLookup,
                    "code",
                    {}
                  )
                )
              )),
              tostring(index(
                ri!processControllerConfig[ri!index],
                "action",
                {}
              ))
            ),
            tostring(index(
              ri!processControllerConfig[ri!index],
              "action",
              {}
            )),
            null
          ),
          /*index(*/
            /*ri!processControllerConfig[ri!index],*/
            /*"action",*/
            /*{}*/
          /*),*/
          choiceLabels: if(
            or(tointeger(
              ri!selectedNextStep
            ) = tointeger(
              #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[5]
            )),
            #"_a-0000e54c-ce50-8000-5260-1bef901bef90_565528",
            if(
              or(tointeger(
                ri!selectedNextStep
              ) = tointeger(
                #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[6]
              ),
              tointeger(
                ri!selectedNextStep
              ) = tointeger(
                #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[7]
              )),
              #"_a-0000e54c-ce50-8000-5260-1bef901bef90_565534",
              index(
                ri!masterLookup,
                "label",
                {}
              )
            )
          ),
          choiceValues: if(
            or(tointeger(
              ri!selectedNextStep
            ) = tointeger(
              #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[5]
            )),
            #"_a-0000e54c-ce50-8000-5260-1bef901bef90_565528",
            if(
              or(tointeger(
                ri!selectedNextStep
              ) = tointeger(
                #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[6]
              ),
              tointeger(
                ri!selectedNextStep
              ) = tointeger(
                #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[7]
              )),
              #"_a-0000e54c-ce50-8000-5260-1bef901bef90_565534",
              index(
                ri!masterLookup,
                "code",
                {}
              )
            )
          ),
          saveInto: {
            a!save(
              ri!processControllerConfig[ri!index].action,
              save!value
            )
          },
          showWhen: if(
            or(
              tointeger(
                ri!selectedNextStep
              ) = tointeger(
                #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[5]
              ),
              tointeger(
                ri!selectedNextStep
              ) = tointeger(
                #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[6]
              ),
              tointeger(
                ri!selectedNextStep
              ) = tointeger(
                #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[7]
              ),
              tointeger(
                ri!selectedNextStep
              ) = tointeger(
                #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[10]
              )
            ),
            true(),
            false()
          )
        ),
        /*Next Step*/
        #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_287171"(
          isReadOnly: ri!isReadOnly,
          required: true(),
          placeholderLabel: "--Select Next Type --",
          /*choiceLabels:index(ri!processControllerData,"step_name",{}),*/
          choiceLabels: #"SYSTEM_SYSRULES_forEach"(
            items: ri!processControllerData,
            expression: concat(
              if(
                #"_a-0000e4b2-6487-8000-2b63-01ef9001ef90_3233095"(
                  index(
                    fv!item,
                    "step_id",
                    {}
                  )
                ),
                {},
                {"Step Id: ",
                index(
                  fv!item,
                  "step_id",
                  {}
                ),
                " - ",}
              ),
              index(
                fv!item,
                "step_name",
                {}
              ),
              " - ",
              index(
                fv!item,
                "milestone_name",
                {}
              )/*  index(
                index(
                  ri!milestoneName,
                  wherecontains(
                    tointeger(index(fv!item,"milestone_id",{})),
                    tointeger(index(ri!milestoneName,"milestone_id",{})),
                  ),{}
                ),"name",{}
              ) 
              */
              
            )
          ),
          choiceValues: {
            tointeger(
              index(
                ri!processControllerData,
                "process_controller_id",
                {}
              )
            )
          },
          value: if(
            contains(
              tointeger(
                index(
                  ri!processControllerData,
                  "process_controller_id",
                  {}
                )
              ),
              tointeger(
                index(
                  ri!processControllerConfig[ri!index],
                  "next_process_controller_id"
                )
              )
            ),
            tointeger(
              index(
                ri!processControllerConfig[ri!index],
                "next_process_controller_id"
              )
            ),
            null
          ),
          saveInto: {
            a!save(
              ri!processControllerConfig[ri!index].next_process_controller_id,
              save!value
            )
          },
          /*required: true(),*/
          validations: {},
          showWhen: if(
            or(
              false()tointeger(
                ri!selectedNextStep
              ) = tointeger(
                #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[5]
              ),
              tointeger(
                ri!selectedNextStep
              ) = tointeger(
                #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[6]
              ),
              tointeger(
                ri!selectedNextStep
              ) = tointeger(
                #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[7],
                
              ),
              tointeger(
                ri!selectedNextStep
              ) = tointeger(
                #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[10],
                
              ),
              
            ),
            true(),
            false()
          )
        ),
        /*Next Step free text*/
        /*   rule!EAP_SA_GenericTextField(
          isReadOnly: ri!isReadOnly,
          placeHolder: "--Enter Next Type ID--",         
          value: index(
            ri!processControllerConfig[ri!index],
            "next_process_controller_id"
          ),
          saveInto: {
            a!save(
              ri!processControllerConfig[ri!index].next_process_controller_id,
              save!value
            )
          },
          required: true(),
          validations: {},
          showWhen: if(
            or(false()
            tointeger(
              ri!selectedNextStep
            ) = tointeger(
              cons!EAP_DWF_PROCESSCONTROLLER_STEPS[5]
            ),
            tointeger(
              ri!selectedNextStep
            ) = tointeger(
              cons!EAP_DWF_PROCESSCONTROLLER_STEPS[6]
            ),
            tointeger(
              ri!selectedNextStep
            ) = tointeger(
              cons!EAP_DWF_PROCESSCONTROLLER_STEPS[7]
            ),
            tointeger(
              ri!selectedNextStep
            ) = tointeger(
              cons!EAP_DWF_PROCESSCONTROLLER_STEPS[10],                
            ),
            ),
            true(),
            false()
          )
        ),
          */
        /*System Task*/
          if(
            or(
              tointeger(
                ri!selectedNextStep
              ) = #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[2]              
            ),
            if(
              or(
                ri!isReadOnly,
                and(
                  or(tointeger(
                    ri!selectedNextStep
                  ) = tointeger(
                    #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[2]
                  ),
                  tointeger(
                    ri!selectedNextStep
                  ) = tointeger(
                    #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[12]
                  )),
                  not(
                    touniformstring(
                      index(
                        index(
                          ri!sourceConfigDetail,
                          wherecontains(
                            tointeger(
                              index(
                                ri!processControllerConfig[ri!index],
                                "io_config_id",
                                {}
                              )
                            ),
                            tointeger(
                              index(
                                ri!sourceConfigDetail,
                                "config_id",
                                {}
                              )
                            )
                          ),
                          {}
                        ),
                        "system_type_code",
                        {}
                      )
                    ) = "MANUAL_UPLOAD"
                  )
                )
              ),
              #"SYSTEM_SYSRULES_imageField_v1"(
                images: {
                  #"SYSTEM_SYSRULES_documentImage"(
                    document: #"SYSTEM_SYSRULES_iconIndicator"(
                      icon: if(
                        contains(
                          toboolean(
                            index(
                              ri!processControllerConfig[ri!index],
                              "is_system_driven",
                              {}
                            )
                          ),
                          true()
                        ),
                        "STATUS_OK",
                        "STATUS_NOTDONE"
                      )
                    )
                  )
                },
                align: "CENTER"
              ),
              #"SYSTEM_SYSRULES_richTextDisplayField"(
                value: if(
                  or(
                    tointeger(
                      index(
                        ri!processControllerConfig[ri!index],
                        "is_system_driven",
                        {}
                      )
                    ) = 1
                  ),
                  #"SYSTEM_SYSRULES_richTextIcon"(
                    icon: "toggle-on",
                    caption: "Yes",
                    link: #"SYSTEM_SYSRULES_dynamicLink"(
                      saveInto: {
                        a!save(
                          ri!processControllerConfig[ri!index].is_system_driven,
                          0
                        )
                      },
                      showWhen: not(
                        ri!isReadOnly
                      )
                    ),
                    size: "MEDIUM_PLUS"
                  ),
                  #"SYSTEM_SYSRULES_richTextIcon"(
                    icon: "toggle-off",
                    caption: "No",
                    link: #"SYSTEM_SYSRULES_dynamicLink"(
                      saveInto: {
                        a!save(
                          ri!processControllerConfig[ri!index].is_system_driven,
                          1
                        )
                      },
                      showWhen: not(
                        ri!isReadOnly
                      )
                    ),
                    size: "MEDIUM_PLUS"
                  )
                ),
                align: "CENTER"
              )
            ),
            if(
              or(
                tointeger(
                  ri!selectedNextStep
                ) = #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365703"[12]
              ),
              #"SYSTEM_SYSRULES_imageField_v1"(
                images: {
                  #"SYSTEM_SYSRULES_documentImage"(
                    document: #"SYSTEM_SYSRULES_iconIndicator"(
                      icon: if(
                        contains(
                          toboolean(
                            index(
                              ri!processControllerConfig[ri!index],
                              "is_system_driven",
                              {}
                            )
                          ),
                          true()
                        ),
                        "STATUS_OK",
                        "STATUS_NOTDONE"
                      )
                    )
                  )
                },
                align: "CENTER"
              ),
              {}
           )
        ),
        /*Assignee*/
        /*a!pickerFieldUsers(*/
        /*readOnly: ri!isReadOnly,*/
        /*maxSelections:1,*/
        /*value: index(*/
        /*ri!processControllerConfig[ri!index],*/
        /*"assignee",*/
        /*{}*/
        /*),*/
        /*saveInto: {*/
        /*a!save(*/
        /*ri!processControllerConfig[ri!index].assignee,*/
        /*save!value*/
        /*)*/
        /*},*/
        /*disabled: if(*/
        /*toboolean(index(ri!processControllerConfig,"is_system_driven",{})),*/
        /*true(),*/
        /*false()*/
        /*)*/
        /*),*/
        /*Is Active*/
        if(
          ri!isReadOnly,
          #"SYSTEM_SYSRULES_imageField_v1"(
            images: {
              #"SYSTEM_SYSRULES_documentImage"(
                document: #"SYSTEM_SYSRULES_iconIndicator"(
                  icon: if(
                    contains(
                      toboolean(
                        index(
                          ri!processControllerConfig[ri!index],
                          "is_active",
                          {}
                        )
                      ),
                      true()
                    ),
                    "STATUS_OK",
                    "STATUS_NOTDONE"
                  )
                )
              )
            },
            align: "CENTER"
          ),
          #"SYSTEM_SYSRULES_richTextDisplayField"(
            value: if(
              or(
                tointeger(
                  index(
                    ri!processControllerConfig[ri!index],
                    "is_active",
                    {}
                  )
                ) = 1
              ),
              #"SYSTEM_SYSRULES_richTextIcon"(
                icon: "toggle-on",
                caption: "Yes",
                link: #"SYSTEM_SYSRULES_dynamicLink"(
                  saveInto: {
                    a!save(
                      ri!processControllerConfig[ri!index].is_active,
                      0
                    )
                  },
                  showWhen: not(
                    ri!isReadOnly
                  )
                ),
                size: "MEDIUM_PLUS"
              ),
              #"SYSTEM_SYSRULES_richTextIcon"(
                icon: "toggle-off",
                caption: if(
                  toboolean(index(
                    index(
                      ri!sourceConfigDetail,
                      wherecontains(
                        index(
                          ri!processControllerConfig[ri!index],
                          "io_config_id",
                          {}
                        ),
                        tointeger(index(ri!sourceConfigDetail,"config_id",{}))
                      ),
                      {}
                    ),
                    "is_active",
                    {}
                  )),
                  "No",
                  "You can activate this item only if the IO configuration is active"
                ),
                link: #"SYSTEM_SYSRULES_dynamicLink"(
                  saveInto: {
                    a!save(
                      ri!processControllerConfig[ri!index].is_active,
                      1
                    )
                  },
                  showWhen: if(
                    toboolean(index(
                      index(
                        ri!sourceConfigDetail,
                        wherecontains(
                          index(
                            ri!processControllerConfig[ri!index],
                            "io_config_id",
                            {}
                          ),
                          tointeger(index(ri!sourceConfigDetail,"config_id",{}))
                        ),
                        {}
                      ),
                      "is_active",
                      {}
                    )),
                    true(),
                    false()
                  )
                ),
                size: "MEDIUM_PLUS"
              )
            ),
            align: "CENTER"
          )
        ),
        /*Delete*/
        if(
          ri!isReadOnly,
          {},
          if(
            #"_a-0000e4b2-6487-8000-2b63-01ef9001ef90_3251951"(
              ri!processControllerConfig[ri!index].process_controller_config_id
            ),
            #"SYSTEM_SYSRULES_imageField_v1"(
              label: "",
              images: #"SYSTEM_SYSRULES_documentImage"(
                document: #"SYSTEM_SYSRULES_iconIndicator"(
                  "REMOVE"
                ),
                link: #"SYSTEM_SYSRULES_dynamicLink"(
                  saveInto: {
                    a!save(
                      ri!processControllerConfig,
                      remove(
                        ri!processControllerConfig,
                        ri!index
                      )
                    )
                  }
                )
              )
            ),
            #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_285963"(
              readOnly: true()
            )
          )
        )
      }
    )
  }
)</definition>
        <namedTypedValue>
            <name>index</name>
            <type>
                <name>int</name>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </type>
        </namedTypedValue>
        <namedTypedValue>
            <name>processControllerConfig</name>
            <type>
                <name>EAP_T_DwfProcessControllerConfig?list</name>
                <namespace>urn:com:appian:types:eap</namespace>
            </type>
        </namedTypedValue>
        <namedTypedValue>
            <name>isReadOnly</name>
            <type>
                <name>boolean</name>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </type>
        </namedTypedValue>
        <namedTypedValue>
            <name>selectedNextStep</name>
            <type>
                <name>string</name>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </type>
            <value/>
        </namedTypedValue>
        <namedTypedValue>
            <name>manageWorkflowId</name>
            <type>
                <name>int</name>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </type>
        </namedTypedValue>
        <namedTypedValue>
            <name>processControllerData</name>
            <type>
                <name>Variant</name>
                <namespace>http://www.appian.com/ae/types/2009</namespace>
            </type>
        </namedTypedValue>
        <namedTypedValue>
            <name>milestoneName</name>
            <type>
                <name>Variant</name>
                <namespace>http://www.appian.com/ae/types/2009</namespace>
            </type>
        </namedTypedValue>
        <namedTypedValue>
            <name>masterLookup</name>
            <type>
                <name>Variant</name>
                <namespace>http://www.appian.com/ae/types/2009</namespace>
            </type>
        </namedTypedValue>
        <namedTypedValue>
            <name>outputGenerationDropdown</name>
            <type>
                <name>Variant</name>
                <namespace>http://www.appian.com/ae/types/2009</namespace>
            </type>
        </namedTypedValue>
        <namedTypedValue>
            <name>sourceConfigDetail</name>
            <type>
                <name>Variant</name>
                <namespace>http://www.appian.com/ae/types/2009</namespace>
            </type>
        </namedTypedValue>
        <namedTypedValue>
            <name>targetConfigDetail</name>
            <type>
                <name>Variant</name>
                <namespace>http://www.appian.com/ae/types/2009</namespace>
            </type>
        </namedTypedValue>
        <namedTypedValue>
            <name>processParamData</name>
            <type>
                <name>Variant</name>
                <namespace>http://www.appian.com/ae/types/2009</namespace>
            </type>
        </namedTypedValue>
        <preferredEditor>legacy</preferredEditor>
        <offlineEnabled>false</offlineEnabled>
    </rule>
    <roleMap public="true">
        <role inherit="true" allowForAll="false" name="readers">
            <users/>
            <groups/>
        </role>
        <role inherit="true" allowForAll="false" name="authors">
            <users/>
            <groups/>
        </role>
        <role inherit="true" allowForAll="false" name="administrators">
            <users/>
            <groups/>
        </role>
        <role inherit="false" allowForAll="false" name="denyReaders">
            <users/>
            <groups/>
        </role>
        <role inherit="false" allowForAll="false" name="denyAuthors">
            <users/>
            <groups/>
        </role>
        <role inherit="false" allowForAll="false" name="denyAdministrators">
            <users/>
            <groups/>
        </role>
    </roleMap>
    <history>
        <historyInfo versionUuid="_a-0000e4e9-ef8d-8000-5259-1bef901bef90_365874"/>
        <historyInfo versionUuid="_a-0000e4e9-ef8d-8000-5259-1bef901bef90_384651"/>
        <historyInfo versionUuid="_a-0000e505-ae05-8000-525c-1bef901bef90_406397"/>
        <historyInfo versionUuid="_a-0000e518-940a-8000-525e-1bef901bef90_474838"/>
        <historyInfo versionUuid="_a-0000e518-940a-8000-525e-1bef901bef90_486965"/>
        <historyInfo versionUuid="_a-0000e518-940a-8000-525e-1bef901bef90_490660"/>
        <historyInfo versionUuid="_a-0000e518-940a-8000-525e-1bef901bef90_519305"/>
        <historyInfo versionUuid="_a-0000e54c-ce50-8000-5260-1bef901bef90_564123"/>
        <historyInfo versionUuid="_a-0000e54c-ce50-8000-5260-1bef901bef90_565724"/>
        <historyInfo versionUuid="_a-0000e56b-0831-8000-5261-1bef901bef90_655296"/>
        <historyInfo versionUuid="_a-0000e595-3324-8000-5263-1bef901bef90_737581"/>
        <historyInfo versionUuid="_a-0000e5ac-f704-8000-5264-1bef901bef90_744412"/>
        <historyInfo versionUuid="_a-0000e5c3-a65f-8000-5268-1bef901bef90_766237"/>
    </history>
</contentHaul>
