<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<contentHaul xmlns:a="http://www.appian.com/ae/types/2009">
    <versionUuid>_a-0000eab6-dc46-8000-9be9-011c48011c48_257105</versionUuid>
    <interface>
        <name>EAP_LinkedEucPagingGrid</name>
        <uuid>_a-0000e518-940a-8000-525e-1bef901bef90_516686</uuid>
        <description>Hold paging grid for linked euc</description>
        <parentUuid>_a-0000e4c3-7a1b-8000-524f-1bef901bef90_6580</parentUuid>
        <visibility>
            <advertise>false</advertise>
            <hierarchy>true</hierarchy>
            <indexable>true</indexable>
            <quota>false</quota>
            <searchable>true</searchable>
            <system>false</system>
            <unlogged>false</unlogged>
        </visibility>
        <definition>a!localVariables(
  local!runconfigName:#"_a-0000e4c3-ab68-8000-5250-1bef901bef90_11827"(

    isActive: true()
  ),
  local!linkTransId,
  local!processData: #"_a-0000e4c3-ab68-8000-5250-1bef901bef90_12194"(
    isActive: 1,
    pagingInfo: #"SYSTEM_SYSRULES_pagingInfo"(
      startIndex: 1,
      batchSize: -1,
      sort: #"SYSTEM_SYSRULES_sortInfo"(
        field: "name",
        ascending: true()
      )
    )
  ),
  local!linkEucId,
  local!ViewLinkEucId,
  local!EditLinkedid,

  local!linkEucConfig:#"_a-0000e505-ae05-8000-525c-1bef901bef90_417553"(

    linkConfigName:local!linkEucId,
    pagingInfo:#"SYSTEM_SYSRULES_pagingInfo"(
      startIndex:1,
      batchSize:-1,
      sort :#"SYSTEM_SYSRULES_sortInfo"(
        field:"link_config_id", 
        ascending:false()
      )
    )
  ),
 
  local!processControllerMaster:if(
    #"_a-0000e4b2-6487-8000-2b63-01ef9001ef90_3233095"(ri!manageLinkEucMappingId),
    null,
    #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_359325"(
      linkMappingId:ri!manageLinkEucMappingId
    )
  )
  ,
  local!processController:if(
    #"_a-0000e4b2-6487-8000-2b63-01ef9001ef90_3233095"(index( local!processControllerMaster,"process_controller_master_id",null)),
    null,
    #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_361812"(
      processControllerMasterId:index( local!processControllerMaster,"process_controller_master_id",null)
    )
  ),
  local!milestone:if(
    #"_a-0000e4b2-6487-8000-2b63-01ef9001ef90_3233095"(local!processController),
    null,
    #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_350906"(

      isActive: 1
    )
  )
,
  local!showTransactionId,

  {

    #"SYSTEM_SYSRULES_sectionLayout_v1"(
      label: "Linked EUC Configuration",
      divider:"ABOVE",
      contents: {
        #"SYSTEM_SYSRULES_columnsLayout"( 
          showWhen:  and(
            toboolean(ri!activeStep)=false(),
            #"_a-0000e4b2-6487-8000-2b63-01ef9001ef90_3233095"(
              local!showTransactionId
            )
        ),
        columns: {
          #"SYSTEM_SYSRULES_columnLayout"(
            contents: {
              #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_285963"(
                label:"Link Config Name",
                placeHolder: "Link Config Name",
                refreshAfter: "KEYPRESS",
                value: local!linkEucId,
                saveInto: local!linkEucId
              )
            }
          ),
          #"SYSTEM_SYSRULES_columnLayout"(
            contents: {
              #"SYSTEM_SYSRULES_ButtonLayout"(
                primaryButtons: #"SYSTEM_SYSRULES_ButtonWidget"(
                  label:"ADD LINKED EUC",
                  showWhen: and(toboolean(ri!activeStep)=false()),
                  saveInto: {
                  a!save(
                    ri!activeStep,
                    true()
                  ),
                  a!save(
                    ri!LinkEucConfig,
                    #"_a-0000e505-ae05-8000-525c-1bef901bef90_417485"(

                      createdBy: loggedInUser(),

                      isActive: 1,
                      createdOn: now()
                    )),
                    a!save(ri!manageLinkEucMappingId,null)
                  },
                  /*submit:true(),*/
                  style:"PRIMARY",
              
                  validate: true()
                ))
            }
          )
        }),
        #"SYSTEM_SYSRULES_gridField_v1"(
          data:local!linkEucConfig,
          columns: {
            #"SYSTEM_SYSRULES_gridColumn"(
              label: "Link Config Name",
              value:fv!row.link_config_name,
              align: "CENTER"
            ),
            #"SYSTEM_SYSRULES_gridColumn"(
              label: "Created On",
              value:todate(fv!row.created_on),
              align: "CENTER"
            ),
            #"SYSTEM_SYSRULES_gridColumn"(
              label: "Is Active",
              value:#"SYSTEM_SYSRULES_richTextDisplayField"(
                value: if(
                  fv!row.is_active,
                  #"SYSTEM_SYSRULES_richTextIcon"(
                    icon:"check-circle",
                    color:"POSITIVE",
                    size:"MEDIUM"
                  ),
                  #"SYSTEM_SYSRULES_richTextIcon"(
                    icon:"times-circle",
                    color:"NEGATIVE",
                    size:"MEDIUM"
                  )
                )
              ),
              align:"CENTER",
              width: "NARROW"
            ),
            #"SYSTEM_SYSRULES_gridColumn"(
              label: "View Detail",
              value:#"SYSTEM_SYSRULES_richTextDisplayField"(
                value: #"SYSTEM_SYSRULES_richTextIcon"(
                  icon: if(
                    or(tointeger(local!ViewLinkEucId) = tointeger(index(
                      fv!row,
                      "link_config_id",
                      {}
                    ))),"eye-slash","eye"),
                    caption: "Click here to view",
                    link: #"SYSTEM_SYSRULES_dynamicLink"(
                      label: "View",
                      value: index(
                        fv!row,
                        "link_config_id",
                        {}
                      ),
                      saveInto: {
                        local!ViewLinkEucId,
a!save(ri!readOnly,true()),
a!save(ri!LinkEucConfig,#"_a-0000e505-ae05-8000-525c-1bef901bef90_417553"(
  linkConfigId:  local!ViewLinkEucId
)),
a!save(ri!activeStep,true()),
a!save(ri!isLinkedEUCMapping,true()),
a!save(ri!linkEucMapping,#"_a-0000e505-ae05-8000-525c-1bef901bef90_417610"(
  linkConfigId:  local!ViewLinkEucId
)),

a!save(ri!manageLinkEucMappingId,null)
                      }
                    ),
                    linkStyle: "STANDALONE",
                    size: if(
                      or(tointeger(local!ViewLinkEucId) = tointeger(index(
                        fv!row,
                        "link_config_id",
                        {}
                      ))),"MEDIUM","STANDARD")
                )
              ),
              align:"CENTER",
              width: "NARROW"
            ),
            #"SYSTEM_SYSRULES_gridColumn"(
              label: "Manage",
              value:#"SYSTEM_SYSRULES_richTextDisplayField"(
                value: #"SYSTEM_SYSRULES_richTextIcon"(
                  icon: "edit",
                  caption: "Click here to edit",
                  link: #"SYSTEM_SYSRULES_dynamicLink"(
                    label: "edit",
                    value: index(
                      fv!row,
                      "link_config_id",
                      {}
                    ),
                    saveInto: {
                      
                      local!EditLinkedid,
a!save(ri!activeStep,true()),
a!save(ri!LinkEucConfig,#"_a-0000e505-ae05-8000-525c-1bef901bef90_417553"(
  linkConfigId: local!EditLinkedid
)),
a!save(ri!linkEucMapping,#"_a-0000e505-ae05-8000-525c-1bef901bef90_417610"(
  linkConfigId:  local!EditLinkedid,
  pagingInfo:#"SYSTEM_SYSRULES_pagingInfo"(
    startIndex:1,
    batchSize:-1,
    sort :#"SYSTEM_SYSRULES_sortInfo"(
      field:"sequence_order", 
      ascending:true()
    )
  )
)),
a!save(local!ViewLinkEucId,null),
a!save(ri!readOnly,false())
                    }
                  ),
                  linkStyle: "STANDALONE",
                  size: "MEDIUM"
                )
              ),
              align:"CENTER",
              width: "NARROW"
            ),
            #"SYSTEM_SYSRULES_gridColumn"(
              label: "Show Transaction History",
              value:#"SYSTEM_SYSRULES_richTextDisplayField"(
                value: #"SYSTEM_SYSRULES_richTextIcon"(
                  icon: "info-circle",
                  caption: "Click here to show transactions details",
                  link: #"SYSTEM_SYSRULES_dynamicLink"(
                    label: "",
                    value: index(
                      fv!row,
                      "link_config_id",
                      {}
                    ),
                    saveInto: {
                      local!showTransactionId

                    }
                  ),
                  linkStyle: "STANDALONE",
                  size: "MEDIUM"
                )
              ),
              align:"CENTER",
              width: "NARROW_PLUS"
            )
          },
          showWhen:and(
            toboolean(ri!activeStep)=false(),
            #"_a-0000e4b2-6487-8000-2b63-01ef9001ef90_3233095"(
              local!showTransactionId
            )
          )
        ),
       
        #"SYSTEM_SYSRULES_richTextDisplayField"(
          
          value: #"SYSTEM_SYSRULES_richTextItem_v1"(
            text: "+ Add Linked EUC",
            link: if(tointeger(ri!activeStep)=false(),
            #"SYSTEM_SYSRULES_dynamicLink"(
              value: true(),
              saveInto: {
                ri!activeStep,
              a!save(
                ri!LinkEucConfig,
              #"_a-0000e505-ae05-8000-525c-1bef901bef90_417485"(

                createdBy: loggedInUser(),

                isActive: 1,
                createdOn: now()
              )),
              a!save(ri!manageLinkEucMappingId,null)
              }
            ),
            {}),
            color: if(toboolean(ri!activeStep)=false(),"ACCENT","SECONDARY"),
            style: "STRONG"
          ),
          showWhen: and(
            toboolean(ri!activeStep)=false(),
            #"_a-0000e4b2-6487-8000-2b63-01ef9001ef90_3233095"(
              local!showTransactionId
            )
          )
        ),
        #"SYSTEM_SYSRULES_richTextDisplayField"(),
        #"SYSTEM_SYSRULES_columnsLayout"(
          showWhen :or(ri!activeStep&lt;&gt;false()),
          columns: {
            #"SYSTEM_SYSRULES_columnLayout"(
              contents:{
                #"SYSTEM_SYSRULES_textField"(
                  label: "Link Config Name",
                  placeholder:"--Enter Link Config Name--",
                  readOnly: ri!readOnly,
                  value:index(ri!LinkEucConfig,"link_config_name",{}),
                  saveInto: {a!save(ri!LinkEucConfig.link_config_name,trim(save!value)),
                  a!save(ri!LinkEucConfig.modified_by,loggedInUser()),
                  a!save(ri!LinkEucConfig.modified_on,now())
                  },
                  required: if(
                    ri!readOnly=true(),
                    false(),
                    true()
                  ),
                  validations: if(
                    ri!readOnly=true(),
                    {},
                    if(
                      #"_a-0000e4b2-6487-8000-2b63-01ef9001ef90_3233095"(index(ri!LinkEucConfig,"link_config_id",{})),
                      if(
                        contains(touniformstring(proper(local!linkEucConfig.link_config_name)),
                        proper(index(ri!LinkEucConfig,"link_config_name",{}))
                        ),
                        "Duplicate Values Found",
                        {}
                      ),
                      {}

                    )

                  )
                )
              }
            ),

            #"SYSTEM_SYSRULES_columnLayout"(
              contents:{
                if(
                  toboolean(ri!readOnly)=true(),
                  #"SYSTEM_SYSRULES_textField"(
                    label: "Status",
                    value: if(
                      ri!LinkEucConfig.is_active=1,
                      "Active",
                      "In-Active"
                    ),
                    readOnly: true()
                  ),
                  #"SYSTEM_SYSRULES_radioButtonField"(
                    label:"Status",
                    choiceLabels:{"Active","In-Active"},
                    choiceValues: {1,0},
                    choiceLayout:"COMPACT",
                    value: index(ri!LinkEucConfig,"is_active",{}),
                    saveInto: a!save(ri!LinkEucConfig.is_active,save!value)
                  )
                )

              }
            )
          }
        ),

        #"SYSTEM_SYSRULES_richTextDisplayField"(),
        if(
          or(ri!activeStep&lt;&gt;false()),
          #"_a-0000e505-ae05-8000-525c-1bef901bef90_418216"(
            linkEucMapping: ri!linkEucMapping,
            isReadOnly: ri!readOnly,
            linkEucConfig: local!linkEucConfig,
            processData: local!processData,
            filteredLinkEucMappingData: ri!filteredLinkEucMappingData,
            manageLinkEucMappingId: ri!manageLinkEucMappingId,
            manageLinkConfigId:index(ri!LinkEucConfig,"link_config_id",{}),
            showLinkMapping: ri!showLinkMapping,
            processController:local!processController,
            milestone:local!milestone,
            runConfig:local!runconfigName,
            processControllerMasterId:index(local!processControllerMaster,"process_controller_master_id",null)
           
          ),
          {}
        )
       ,
        
        if(
          #"_a-0000e4b2-6487-8000-2b63-01ef9001ef90_3233095"(local!showTransactionId),
          {},
          #"_a-0000e518-940a-8000-525e-1bef901bef90_469497"(
            linkConfigId:local!showTransactionId,
            linkTransId:local!linkTransId
          )
        ),
       
        
        #"SYSTEM_SYSRULES_ButtonLayout"(
          primaryButtons:{
            #"SYSTEM_SYSRULES_ButtonWidget"(
              label:"save",
              value:#"_a-0000e4c3-ab68-8000-5250-1bef901bef90_13888"[4],
              style:"PRIMARY",
              submit:true(), 
              validate:true(),
              saveInto:{
                ri!buttonAction,
          
        a!save(ri!manageLinkEucMappingId,0),
           
              },
              showWhen: and(ri!activeStep&lt;&gt;false(),#"_a-0000e4b2-6487-8000-2b63-01ef9001ef90_3233095"(local!ViewLinkEucId),ri!isSummaryDashboard&lt;&gt;true()),
              disabled: if(
                and(#"_a-0000e4b2-6487-8000-2b63-01ef9001ef90_3233095"(ri!linkEucMapping)),
                true(),
                false()
              )
            ),
            
            
          },
          secondaryButtons: if(
            or(
              or(ri!activeStep=true()),
              and(
                or(ri!activeStep=false()),
                not(#"_a-0000e4b2-6487-8000-2b63-01ef9001ef90_3233095"(local!showTransactionId))
              )
              ),
            #"SYSTEM_SYSRULES_ButtonWidget"(
              label:"Back",
              validate:false(),
              saveInto:{
                a!save(ri!activeStep,false()),
              a!save(ri!LinkEucConfig,null),
              a!save(ri!linkEucMapping,null),
              a!save(local!ViewLinkEucId,null),
              a!save(ri!readOnly,false()),
              a!save(ri!manageLinkEucMappingId,0),
              a!save(local!showTransactionId,null),
              a!save(local!linkTransId,null)
              },
            
            ),
           
            #"SYSTEM_SYSRULES_ButtonWidget"(
              label:"Cancel",
              value:#"_a-0000e4c3-ab68-8000-5250-1bef901bef90_13888"[2],
              submit:true(), 
              validate:false(),
              saveInto:ri!buttonAction,
              showWhen: and(
                #"_a-0000e4b2-6487-8000-2b63-01ef9001ef90_3233095"(local!showTransactionId),
                ri!isSummaryDashboard&lt;&gt;true()
              ),
              style:"DESTRUCTIVE"
            )
          )
        )
      }
    )

  }
)</definition>
        <namedTypedValue>
            <name>LinkEucConfig</name>
            <type>
                <name>EAP_T_LinkEucConfig?list</name>
                <namespace>urn:com:appian:types:eap</namespace>
            </type>
        </namedTypedValue>
        <namedTypedValue>
            <name>buttonAction</name>
            <type>
                <name>string</name>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </type>
            <value/>
        </namedTypedValue>
        <namedTypedValue>
            <name>linkEucMapping</name>
            <type>
                <name>EAP_T_LinkEucMapping?list</name>
                <namespace>urn:com:appian:types:eap</namespace>
            </type>
        </namedTypedValue>
        <namedTypedValue>
            <name>filteredLinkEucMappingData</name>
            <type>
                <name>EAP_T_LinkEucMapping?list</name>
                <namespace>urn:com:appian:types:eap</namespace>
            </type>
        </namedTypedValue>
        <namedTypedValue>
            <name>manageLinkEucMappingId</name>
            <type>
                <name>int</name>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </type>
        </namedTypedValue>
        <namedTypedValue>
            <name>showLinkMapping</name>
            <type>
                <name>int</name>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </type>
        </namedTypedValue>
        <namedTypedValue>
            <name>isLinkedEUCMapping</name>
            <type>
                <name>boolean</name>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </type>
        </namedTypedValue>
        <namedTypedValue>
            <name>activeStep</name>
            <type>
                <name>boolean</name>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </type>
        </namedTypedValue>
        <namedTypedValue>
            <name>readOnly</name>
            <type>
                <name>boolean</name>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </type>
        </namedTypedValue>
        <namedTypedValue>
            <name>isSummaryDashboard</name>
            <type>
                <name>boolean</name>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </type>
        </namedTypedValue>
        <preferredEditor>interface</preferredEditor>
        <offlineEnabled>false</offlineEnabled>
        <isCustom>false</isCustom>
    </interface>
    <roleMap public="true">
        <role inherit="true" allowForAll="false" name="readers">
            <users/>
            <groups/>
        </role>
        <role inherit="true" allowForAll="false" name="authors">
            <users/>
            <groups/>
        </role>
        <role inherit="true" allowForAll="false" name="administrators">
            <users/>
            <groups/>
        </role>
        <role inherit="false" allowForAll="false" name="denyReaders">
            <users/>
            <groups/>
        </role>
        <role inherit="false" allowForAll="false" name="denyAuthors">
            <users/>
            <groups/>
        </role>
        <role inherit="false" allowForAll="false" name="denyAdministrators">
            <users/>
            <groups/>
        </role>
    </roleMap>
    <typedValue>
        <type>
            <name>RuleTestConfig?list</name>
            <namespace>http://www.appian.com/ae/types/2009</namespace>
        </type>
        <value>
            <el>
                <a:name/>
                <a:ruleInputTestConfigs>
                    <a:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="a:Expression">null</a:value>
                    <a:nameRef>LinkEucConfig</a:nameRef>
                    <a:id>1</a:id>
                </a:ruleInputTestConfigs>
                <a:ruleInputTestConfigs>
                    <a:value xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="xsd:string"/>
                    <a:nameRef>buttonAction</a:nameRef>
                    <a:id>2</a:id>
                </a:ruleInputTestConfigs>
                <a:ruleInputTestConfigs>
                    <a:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="a:Expression">null</a:value>
                    <a:nameRef>linkEucMapping</a:nameRef>
                    <a:id>3</a:id>
                </a:ruleInputTestConfigs>
                <a:ruleInputTestConfigs>
                    <a:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="a:Expression">null</a:value>
                    <a:nameRef>filteredLinkEucMappingData</a:nameRef>
                    <a:id>4</a:id>
                </a:ruleInputTestConfigs>
                <a:ruleInputTestConfigs>
                    <a:value xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:nil="true" xsi:type="xsd:int"/>
                    <a:nameRef>manageLinkEucMappingId</a:nameRef>
                    <a:id>5</a:id>
                </a:ruleInputTestConfigs>
                <a:ruleInputTestConfigs>
                    <a:value xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:nil="true" xsi:type="xsd:int"/>
                    <a:nameRef>showLinkMapping</a:nameRef>
                    <a:id>6</a:id>
                </a:ruleInputTestConfigs>
                <a:ruleInputTestConfigs>
                    <a:value xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:nil="true" xsi:type="xsd:boolean"/>
                    <a:nameRef>isLinkedEUCMapping</a:nameRef>
                    <a:id>7</a:id>
                </a:ruleInputTestConfigs>
                <a:ruleInputTestConfigs>
                    <a:value xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="xsd:boolean">false</a:value>
                    <a:nameRef>activeStep</a:nameRef>
                    <a:id>8</a:id>
                </a:ruleInputTestConfigs>
                <a:ruleInputTestConfigs>
                    <a:value xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:nil="true" xsi:type="xsd:boolean"/>
                    <a:nameRef>readOnly</a:nameRef>
                    <a:id>9</a:id>
                </a:ruleInputTestConfigs>
                <a:ruleInputTestConfigs>
                    <a:value xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:nil="true" xsi:type="xsd:boolean"/>
                    <a:nameRef>isSummaryDashboard</a:nameRef>
                    <a:id>10</a:id>
                </a:ruleInputTestConfigs>
                <a:assertions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:nil="true"/>
            </el>
        </value>
    </typedValue>
    <history>
        <historyInfo versionUuid="_a-0000e518-940a-8000-525e-1bef901bef90_519065"/>
        <historyInfo versionUuid="_a-0000e518-940a-8000-525e-1bef901bef90_526876"/>
        <historyInfo versionUuid="_a-0000e518-940a-8000-525e-1bef901bef90_553519"/>
        <historyInfo versionUuid="_a-0000e595-3324-8000-5263-1bef901bef90_736339"/>
        <historyInfo versionUuid="_a-0000eab6-dc46-8000-9be9-011c48011c48_257105"/>
    </history>
</contentHaul>
