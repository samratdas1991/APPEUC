<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<contentHaul xmlns:a="http://www.appian.com/ae/types/2009">
    <versionUuid>_a-0000e518-940a-8000-525e-1bef901bef90_554313</versionUuid>
    <rule>
        <name>EAP_ParsingValidationRule</name>
        <uuid>_a-0000e4cd-1af4-8000-5255-1bef901bef90_138711</uuid>
        <description>Holds rule for checking the null values in the flow of Parsing Configuration</description>
        <parentUuid>_a-0000e4c3-7a1b-8000-524f-1bef901bef90_6574</parentUuid>
        <visibility>
            <advertise>false</advertise>
            <hierarchy>true</hierarchy>
            <indexable>true</indexable>
            <quota>false</quota>
            <searchable>true</searchable>
            <system>false</system>
            <unlogged>false</unlogged>
        </visibility>
        <definition>with(reject(
  fn!isnull,
  a!flatten(
    #"SYSTEM_SYSRULES_forEach"(
      items: ri!FileType,
      expression: if(
        not(
          or(
            index(
              fv!item,
              "is_active",
              null
            )
          )
        ),
        null,
        if(
          index(
            fv!item,
            "is_parsing_reqd",
            null
          ),
          if(
            contains(
              tointeger(
                index(
                  ri!FileEntity,
                  "in_file_type_config_id",
                  null
                )
              ),
              tointeger(
                index(
                  fv!item,
                  "in_file_type_config_id",
                  null
                )
              )
            ),
            {
              if(
                not(
                  #"_a-0000e4b2-6487-8000-2b63-01ef9001ef90_3233095"(
                    index(
                      index(
                        ri!FileEntity,
                        wherecontains(
                          tointeger(
                            index(
                              fv!item,
                              "in_file_type_config_id",
                              null
                            )
                          ),
                          tointeger(
                            index(
                              ri!FileEntity,
                              "in_file_type_config_id",
                              null
                            )
                          )
                        ),
                        {}
                      ),
                      "in_file_entity_mapping_id",
                      null
                    )
                  )
                ),
                with(
                  local!SelectedFile: fv!item,
                  a!flatten(
                    #"SYSTEM_SYSRULES_forEach"(
                      items: index(
                        ri!FileEntity,
                        wherecontains(
                          tointeger(
                            index(
                              local!SelectedFile,
                              "in_file_type_config_id",
                              null
                            )
                          ),
                          tointeger(
                            index(
                              ri!FileEntity,
                              "in_file_type_config_id",
                              null
                            )
                          )
                        ),
                        {}
                      ),
                      expression: if(
                        not(
                          or(
                            index(
                              fv!item,
                              "is_active",
                              null
                            )
                          )
                        ),
                        null,
                        if(
                          or(
                            index(
                              fv!item,
                              "parser_type",
                              null
                            ) = #"_a-0000e4b2-6487-8000-2b63-01ef9001ef90_3233177"[1]
                          ),
                          {
                            if(
                              contains(
                                tointeger(
                                  index(
                                    ri!SheetFieldMapping,
                                    "in_file_entity_mapping_id",
                                    null
                                  )
                                ),
                                tointeger(
                                  index(
                                    fv!item,
                                    "in_file_entity_mapping_id",
                                    null
                                  )
                                )
                              ),
                              if(
                                not(
                                  #"_a-0000e4b2-6487-8000-2b63-01ef9001ef90_3233095"(
                                    index(
                                      index(
                                        ri!SheetFieldMapping,
                                        wherecontains(
                                          tointeger(
                                            index(
                                              fv!item,
                                              "in_file_entity_mapping_id",
                                              null
                                            )
                                          ),
                                          tointeger(
                                            index(
                                              ri!SheetFieldMapping,
                                              "in_file_entity_mapping_id",
                                              null
                                            )
                                          )
                                        ),
                                        {}
                                      ),
                                      "sheet_entity_field_mapping_id",
                                      null
                                    )
                                  )
                                ),
                                null,
                                concat(
                                  index(
                                    local!SelectedFile,
                                    "file_config_name",
                                    null
                                  ),
                                  " ",
                                  #"_a-0000e4cd-1af4-8000-5255-1bef901bef90_156058"[6],
                                  index(
                                    fv!item,
                                    "entity_name",
                                    null
                                  )
                                )
                              ),
                              concat(
                                index(
                                  local!SelectedFile,
                                  "file_config_name",
                                  null
                                ),
                                " &gt; ",
                                index(
                                  fv!item,
                                  "entity_name",
                                  null
                                ),
                                #"_a-0000e4cd-1af4-8000-5255-1bef901bef90_156058"[5]
                              )
                            ),
                            if(
                              or(
                                index(
                                  fv!item,
                                  "include_fixed_copy",
                                  null
                                )
                              ),
                              if(
                                contains(
                                  tointeger(
                                    index(
                                      ri!FixedCellConfig,
                                      "in_file_entity_mapping_id",
                                      null
                                    )
                                  ),
                                  tointeger(
                                    index(
                                      fv!item,
                                      "in_file_entity_mapping_id",
                                      null
                                    )
                                  )
                                ),
                                if(
                                  not(
                                    #"_a-0000e4b2-6487-8000-2b63-01ef9001ef90_3233095"(
                                      index(
                                        index(
                                          ri!FixedCellConfig,
                                          wherecontains(
                                            tointeger(
                                              index(
                                                fv!item,
                                                "in_file_entity_mapping_id",
                                                null
                                              )
                                            ),
                                            tointeger(
                                              index(
                                                ri!FixedCellConfig,
                                                "in_file_entity_mapping_id",
                                                null
                                              )
                                            )
                                          ),
                                          {}
                                        ),
                                        "cell_config_id",
                                        null
                                      )
                                    )
                                  ),
                                  null,
                                  concat(
                                    index(
                                      local!SelectedFile,
                                      "file_config_name",
                                      null
                                    ),
                                    " ",
                                    #"_a-0000e4cd-1af4-8000-5255-1bef901bef90_156058"[4],
                                    index(
                                      fv!item,
                                      "entity_name",
                                      null
                                    )
                                  )
                                ),
                                concat(
                                  index(
                                    local!SelectedFile,
                                    "file_config_name",
                                    null
                                  ),
                                  " &gt; ",
                                  if(
                                    #"_a-0000e4b2-6487-8000-2b63-01ef9001ef90_3233095"(
                                      index(
                                        fv!item,
                                        "sheet_name",
                                        null
                                      )
                                    ),
                                    concat(
                                      "Sheet Index: ",
                                      index(
                                        fv!item,
                                        "sheet_index",
                                        null
                                      )
                                    ),
                                    index(
                                      fv!item,
                                      "sheet_name",
                                      null
                                    )
                                  ),
                                  #"_a-0000e4cd-1af4-8000-5255-1bef901bef90_156058"[2]
                                )
                              ),
                              null
                            )
                          },
                          {
                            if(
                              or(
                                index(
                                  fv!item,
                                  "parser_type",
                                  null
                                ) = #"_a-0000e4b2-6487-8000-2b63-01ef9001ef90_3233177"[2]
                              ),
                              if(
                                contains(
                                  tointeger(
                                    index(
                                      ri!TransposeFieldMapping,
                                      "in_file_entity_mapping_id",
                                      null
                                    )
                                  ),
                                  tointeger(
                                    index(
                                      fv!item,
                                      "in_file_entity_mapping_id",
                                      null
                                    )
                                  )
                                ),
                                if(
                                  not(
                                    #"_a-0000e4b2-6487-8000-2b63-01ef9001ef90_3233095"(
                                      index(
                                        index(
                                          ri!TransposeFieldMapping,
                                          wherecontains(
                                            tointeger(
                                              index(
                                                fv!item,
                                                "in_file_entity_mapping_id",
                                                null
                                              )
                                            ),
                                            tointeger(
                                              index(
                                                ri!TransposeFieldMapping,
                                                "in_file_entity_mapping_id",
                                                null
                                              )
                                            )
                                          ),
                                          {}
                                        ),
                                        "sheet_transpose_config_id",
                                        null
                                      )
                                    )
                                  ),
                                  null,
                                  concat(
                                    index(
                                      local!SelectedFile,
                                      "file_config_name",
                                      null
                                    ),
                                    " ",
                                    #"_a-0000e4cd-1af4-8000-5255-1bef901bef90_156058"[8],
                                    index(
                                      fv!item,
                                      "entity_name",
                                      null
                                    )
                                  )
                                ),
                                concat(
                                  index(
                                    local!SelectedFile,
                                    "file_config_name",
                                    null
                                  ),
                                  " &gt; ",
                                  if(
                                    #"_a-0000e4b2-6487-8000-2b63-01ef9001ef90_3233095"(
                                      index(
                                        fv!item,
                                        "sheet_name",
                                        null
                                      )
                                    ),
                                    concat(
                                      "Sheet Index: ",
                                      index(
                                        fv!item,
                                        "sheet_index",
                                        null
                                      )
                                    ),
                                    index(
                                      fv!item,
                                      "sheet_name",
                                      null
                                    )
                                  ),
                                  " &gt; ",
                                  index(
                                    fv!item,
                                    "entity_name",
                                    null
                                  ),
                                  #"_a-0000e4cd-1af4-8000-5255-1bef901bef90_156058"[7]
                                )
                              ),
                              null
                            ),
                            if(
                              or(
                                index(
                                  fv!item,
                                  "include_fixed_copy",
                                  null
                                )
                              ),
                              if(
                                contains(
                                  tointeger(
                                    index(
                                      ri!FixedCellConfig,
                                      "in_file_entity_mapping_id",
                                      null
                                    )
                                  ),
                                  tointeger(
                                    index(
                                      fv!item,
                                      "in_file_entity_mapping_id",
                                      null
                                    )
                                  )
                                ),
                                if(
                                  not(
                                    #"_a-0000e4b2-6487-8000-2b63-01ef9001ef90_3233095"(
                                      index(
                                        index(
                                          ri!FixedCellConfig,
                                          wherecontains(
                                            tointeger(
                                              index(
                                                fv!item,
                                                "in_file_entity_mapping_id",
                                                null
                                              )
                                            ),
                                            tointeger(
                                              index(
                                                ri!FixedCellConfig,
                                                "in_file_entity_mapping_id",
                                                null
                                              )
                                            )
                                          ),
                                          {}
                                        ),
                                        "cell_config_id",
                                        null
                                      )
                                    )
                                  ),
                                  null,
                                  concat(
                                    index(
                                      local!SelectedFile,
                                      "file_config_name",
                                      null
                                    ),
                                    " ",
                                    #"_a-0000e4cd-1af4-8000-5255-1bef901bef90_156058"[4],
                                    index(
                                      fv!item,
                                      "entity_name",
                                      null
                                    )
                                  )
                                ),
                                concat(
                                  " &gt; ",
                                  if(
                                    #"_a-0000e4b2-6487-8000-2b63-01ef9001ef90_3233095"(
                                      index(
                                        fv!item,
                                        "sheet_name",
                                        null
                                      )
                                    ),
                                    concat(
                                      "Sheet Index: ",
                                      index(
                                        fv!item,
                                        "sheet_index",
                                        null
                                      )
                                    ),
                                    index(
                                      fv!item,
                                      "sheet_name",
                                      null
                                    )
                                  ),
                                  #"_a-0000e4cd-1af4-8000-5255-1bef901bef90_156058"[2]
                                )
                              ),
                              null
                            )
                          }
                        )
                      )
                    )
                  )
                ),
                concat(
                  #"_a-0000e4cd-1af4-8000-5255-1bef901bef90_156058"[3],
                  index(
                    fv!item,
                    "file_config_name",
                    null
                  )
                )
              )
            },
            concat(
              index(
                fv!item,
                "file_config_name",
                null
              ),
              #"_a-0000e4cd-1af4-8000-5255-1bef901bef90_156058"[1]
            )
          ),
          null
        )
        
      )
    )
  )
))</definition>
        <namedTypedValue>
            <name>FileType</name>
            <type>
                <name>EAP_T_RefProcessInFileType?list</name>
                <namespace>urn:com:appian:types:eap</namespace>
            </type>
        </namedTypedValue>
        <namedTypedValue>
            <name>FileEntity</name>
            <type>
                <name>EAP_T_RefProcessInFileEntityMapping?list</name>
                <namespace>urn:com:appian:types:eap</namespace>
            </type>
        </namedTypedValue>
        <namedTypedValue>
            <name>SheetFieldMapping</name>
            <type>
                <name>EAP_T_RefProcessSheetFieldMapping?list</name>
                <namespace>urn:com:appian:types:eap</namespace>
            </type>
        </namedTypedValue>
        <namedTypedValue>
            <name>TransposeFieldMapping</name>
            <type>
                <name>EAP_T_RefProcessSheetTransposeConfig?list</name>
                <namespace>urn:com:appian:types:eap</namespace>
            </type>
        </namedTypedValue>
        <namedTypedValue>
            <name>FixedCellConfig</name>
            <type>
                <name>EAP_T_RefProcessSheetFixedCellsConfig?list</name>
                <namespace>urn:com:appian:types:eap</namespace>
            </type>
        </namedTypedValue>
        <preferredEditor>legacy</preferredEditor>
        <offlineEnabled>false</offlineEnabled>
    </rule>
    <roleMap public="true">
        <role inherit="true" allowForAll="false" name="readers">
            <users/>
            <groups/>
        </role>
        <role inherit="true" allowForAll="false" name="authors">
            <users/>
            <groups/>
        </role>
        <role inherit="true" allowForAll="false" name="administrators">
            <users/>
            <groups/>
        </role>
        <role inherit="false" allowForAll="false" name="denyReaders">
            <users/>
            <groups/>
        </role>
        <role inherit="false" allowForAll="false" name="denyAuthors">
            <users/>
            <groups/>
        </role>
        <role inherit="false" allowForAll="false" name="denyAdministrators">
            <users/>
            <groups/>
        </role>
    </roleMap>
    <history>
        <historyInfo versionUuid="_a-0000e4cd-1af4-8000-5255-1bef901bef90_169237"/>
        <historyInfo versionUuid="_a-0000e4cd-1af4-8000-5255-1bef901bef90_180131"/>
        <historyInfo versionUuid="_a-0000e505-ae05-8000-525c-1bef901bef90_401584"/>
        <historyInfo versionUuid="_a-0000e518-940a-8000-525e-1bef901bef90_554313"/>
    </history>
</contentHaul>
