<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<contentHaul xmlns:a="http://www.appian.com/ae/types/2009">
    <versionUuid>_a-0000eab6-dc46-8000-9be9-011c48011c48_255423</versionUuid>
    <interface>
        <name>EAP_OutputConfigSummaryDashboard</name>
        <uuid>_a-0000e4cd-1af4-8000-5255-1bef901bef90_208249</uuid>
        <description>Summary dashboard of output config</description>
        <parentUuid>_a-0000e4c3-7a1b-8000-524f-1bef901bef90_6580</parentUuid>
        <visibility>
            <advertise>false</advertise>
            <hierarchy>true</hierarchy>
            <indexable>true</indexable>
            <quota>false</quota>
            <searchable>true</searchable>
            <system>false</system>
            <unlogged>false</unlogged>
        </visibility>
        <definition>a!localVariables(
  local!selectedId,
  local!outputFileType: #"_a-0000e4cd-1af4-8000-5255-1bef901bef90_207034"(
    processId: ri!processId,
    pagingInfo: #"SYSTEM_SYSRULES_pagingInfo"(
      startIndex: 1,
      batchSize: - 1,
      sort: #"SYSTEM_SYSRULES_sortInfo"(
        field: "out_file_type_config_id",
        ascending: false()
      )
    )
  ),
  local!uniqueIdentifiers: 'type!{urn:com:appian:types:eap}EAP_Temp_OutputConfigUniqueIdentifiers'(
    process_id: ri!processId,
    activeStep: 1,
    sheetTypeSelectedStep: 1
  ),
  local!outFileEntityMapping: a!refreshVariable(
    value: #"_a-0000e4dd-0d8b-8000-5257-1bef901bef90_214157"(
      processId: ri!processId,
      outFileTypeConfigId: local!selectedId,
      pagingInfo: #"SYSTEM_SYSRULES_pagingInfo"(
        1,
        - 1,
        #"SYSTEM_SYSRULES_sortInfo"(
          field: "sequence_order",
          ascending: true()
        )
      )
    ),
    refreshOnReferencedVarChange: true(),
    refreshOnVarChange: { local!uniqueIdentifiers }
  ),
  local!outFileFieldMapping: a!refreshVariable(
    value: #"_a-0000e4dd-0d8b-8000-5257-1bef901bef90_214878"(
      processId: ri!processId,
      outFileEntityMappingId: tointeger(
        index(
          local!uniqueIdentifiers,
          "selectedCard",
          {}
        )
      )
    ),
    refreshOnReferencedVarChange: true(),
    refreshOnVarChange: { local!uniqueIdentifiers }
  ),
  local!outEntityFilters: a!refreshVariable(
    value: #"_a-0000e4dd-0d8b-8000-5257-1bef901bef90_213363"(
      processId: ri!processId,
      outFileEntityMappingId: tointeger(
        index(
          local!uniqueIdentifiers,
          "selectedCard",
          {}
        )
      )
    ),
    refreshOnReferencedVarChange: true(),
    refreshOnVarChange: { local!uniqueIdentifiers }
  ),
  local!outEntitySort: a!refreshVariable(
    value: #"_a-0000e4dd-0d8b-8000-5257-1bef901bef90_214850"(
      processId: ri!processId,
      outFileEntityMappingId: tointeger(
        index(
          local!uniqueIdentifiers,
          "selectedCard",
          {}
        )
      )
    ),
    refreshOnReferencedVarChange: true(),
    refreshOnVarChange: { local!uniqueIdentifiers }
  ),
  local!sheetFixedCellsConfig: a!refreshVariable(
    value: #"_a-0000e4dd-0d8b-8000-5257-1bef901bef90_214662"(
      processId: ri!processId,
      outFileEntityMappingId: tointeger(
        index(
          local!uniqueIdentifiers,
          "selectedCard",
          {}
        )
      )
    ),
    refreshOnReferencedVarChange: true(),
    refreshOnVarChange: { local!uniqueIdentifiers }
  ),
  local!fixedCellsFilters: a!refreshVariable(
    value: #"_a-0000e4dd-0d8b-8000-5257-1bef901bef90_213698"(
      processId: ri!processId,
      outFileEntityMappingId: tointeger(
        index(
          local!uniqueIdentifiers,
          "selectedCard",
          {}
        )
      )
    ),
    refreshOnReferencedVarChange: true(),
    refreshOnVarChange: { local!uniqueIdentifiers }
  ),
  local!customGeneration: #"_a-0000e4dd-0d8b-8000-5257-1bef901bef90_214000"(
    processId: ri!processId,
    outFileTypeConfigId: local!selectedId,
    
  ),
  {
    /*rule!EAP_EUCConfigurationSteps(),*/
    /*rule!EAP_IOConfigurationBillboard(*/
    /*processId: ri!processId*/
    /*),*/
    /*a!richTextDisplayField(),*/
    #"SYSTEM_SYSRULES_sectionLayout_v1"(
      contents: {
        #"_a-0000e518-940a-8000-525e-1bef901bef90_524783"(
          label: "Output Generation Config Details",
          color: "ACCENT",
          icon: "files-o"
        )
      },
      /*divider: "BELOW"*/
      
    ),
    #"SYSTEM_SYSRULES_gridField_v1"(
      pageSize: 5,
      data: local!outputFileType,
      columns: {
        #"SYSTEM_SYSRULES_gridColumn"(
          label: "Output file type",
          value: fv!row.file_config_name,
          align: "CENTER"
        ),
        #"SYSTEM_SYSRULES_gridColumn"(
          label: "Runtime File Name",
          value: fv!row.append_runtime_file_name,
          align: "CENTER"
        ),
        #"SYSTEM_SYSRULES_gridColumn"(
          label: "File Type",
          value: fv!row.file_type,
          align: "CENTER"
        ),
        #"SYSTEM_SYSRULES_gridColumn"(
          label: "Generator Type",
          value: fv!row.generator_type,
          align: "CENTER"
        ),
        #"SYSTEM_SYSRULES_gridColumn"(
          label: "Base Template",
          value: #"SYSTEM_SYSRULES_richTextDisplayField"(
            value: {
              if(
                #"_a-0000e4b2-6487-8000-2b63-01ef9001ef90_3233095"(fv!row.appian_base_template_doc_id),
                #"SYSTEM_SYSRULES_richTextItem_v1"(text: "N/A"),
                {
                  #"SYSTEM_SYSRULES_richTextIcon"(icon: "download", color: "ACCENT", ),
                  #"SYSTEM_SYSRULES_richTextItem_v1"(text: " "),
                  #"SYSTEM_SYSRULES_richTextItem_v1"(
                    text: if(
                      #"_a-0000e4b2-6487-8000-2b63-01ef9001ef90_3233095"(
                        index(
                          fv!row,
                          "appian_base_template_doc_id",
                          {}
                        )
                      ),
                      {},
                      if(
                        getcontentdetailsbyuuid(
                          index(
                            fv!row,
                            "appian_base_template_doc_id",
                            {}
                          )
                        ) = "No object with this UUID has been found",
                        "No Document Found",
                        extract(
                          getcontentdetailsbyuuid(
                            index(
                              fv!row,
                              "appian_base_template_doc_id",
                              {}
                            )
                          ),
                          "Name:",
                          ","
                        )
                      )
                    ),
                    linkStyle: "STANDALONE",
                    link: if(
                      getcontentdetailsbyuuid(
                        index(
                          fv!row,
                          "appian_base_template_doc_id",
                          {}
                        )
                      ) = "No object with this UUID has been found",
                      null,
                      if(
                        #"_a-0000e4b2-6487-8000-2b63-01ef9001ef90_3233095"(
                          index(
                            fv!row,
                            "appian_base_template_doc_id",
                            {}
                          )
                        ),
                        {},
                        #"SYSTEM_SYSRULES_documentDownloadLink"(
                          document: todocument(
                            stripwith(
                              index(
                                split(
                                  getcontentdetailsbyuuid(
                                    index(
                                      fv!row,
                                      "appian_base_template_doc_id",
                                      {}
                                    )
                                  ),
                                  ","
                                ),
                                2,
                                {}
                              ),
                              "Id: "
                            )
                          )/*  todocument(
                index(
                  fv!row,
                  "appian_document_id",
                  {}
                )
              )  */
                          
                        )
                      )
                    )
                  )
                }
              )
            }
          ),
          align: "CENTER"
        ),
        #"SYSTEM_SYSRULES_gridColumn"(
          label: "Created By",
          value: if(
            isusernametaken(index(fv!row, "created_by", {})),
            concat(
              user(
                index(fv!row, "created_by", {}),
                "firstName"
              ),
              " ",
              user(
                index(fv!row, "created_by", {}),
                "lastName"
              )
            ),
            index(fv!row, "created_by", {})
          ),
          align: "CENTER"
        ),
        #"SYSTEM_SYSRULES_gridColumn"(
          label: "Created Date",
          value: todate(index(fv!row, "created_on", {})),
          align: "CENTER"
        ),
        #"SYSTEM_SYSRULES_gridColumn"(
          label: "Is Active",
          value: if(
            fv!row.is_active,
            #"SYSTEM_SYSRULES_richTextDisplayField"(
              align: "CENTER",
              value: #"SYSTEM_SYSRULES_richTextIcon"(
                icon: "check-circle",
                color: "POSITIVE",
                size: "STANDARD"
              )
            ),
            #"SYSTEM_SYSRULES_richTextDisplayField"(
              align: "CENTER",
              value: #"SYSTEM_SYSRULES_richTextIcon"(
                icon: "times-circle",
                color: "NEGATIVE",
                size: "STANDARD"
              )
            )
          ),
          align: "CENTER",
          width: "NARROW"
        ),
        #"SYSTEM_SYSRULES_gridColumn"(
          label: "Actions",
          value: #"SYSTEM_SYSRULES_richTextDisplayField"(
            value: {
              #"SYSTEM_SYSRULES_richTextIcon"(
                icon: if(
                  or(
                    tointeger(local!selectedId) = tointeger(
                      index(fv!row, "out_file_type_config_id", {})
                    )
                  ),
                  "eye-slash",
                  "eye"
                ),
                size: if(
                  or(
                    tointeger(local!selectedId) = tointeger(
                      index(fv!row, "out_file_type_config_id", {})
                    )
                  ),
                  "MEDIUM",
                  "STANDARD"
                ),
                linkStyle: "STANDALONE",
                link: #"SYSTEM_SYSRULES_dynamicLink"(
                  label: "View",
                  value: index(fv!row, "out_file_type_config_id", {}),
                  saveInto: {
                    local!selectedId,
                    a!save(
                      local!uniqueIdentifiers,
                      'type!{urn:com:appian:types:eap}EAP_Temp_OutputConfigUniqueIdentifiers'(
                        activeStep: 1,
                        sheetTypeSelectedStep: 1,
                        selectedCard: index(
                          index(local!outFileEntityMapping, 1, {}),
                          "out_file_entity_mapping_id",
                          null
                        )
                      )
                    )
                  }
                ),
                caption: "Click here to view"
              ),
              #"SYSTEM_SYSRULES_richTextItem_v1"(text: char(9)),
              #"SYSTEM_SYSRULES_richTextIcon"(
                icon: "edit",
                linkStyle: "STANDALONE",
                link: #"SYSTEM_SYSRULES_startProcessLink"(
                  label: "Edit",
                  processModel: #"_a-0000e4dd-0d8b-8000-5257-1bef901bef90_235860"[1],
                  processParameters: {
                    processId: ri!processId,
                    selectedFileTypeId: index(fv!row, "out_file_type_config_id", null),
                    isManageOutConfig: true()
                  }
                ),
                caption: "Click here to manage output config"
              )
            }
          ),
          align: "CENTER"
        )
      },
      shadeAlternateRows: false/*borderStyle: "LIGHT"*/
      
    ),
    #"SYSTEM_SYSRULES_richTextDisplayField"(),
    if(
      #"_a-0000e4b2-6487-8000-2b63-01ef9001ef90_3233095"(local!selectedId),
      {},
      #"_a-0000e4dd-0d8b-8000-5257-1bef901bef90_219187"(
        isReadOnly: true(),
        uniqueIdentifiers: local!uniqueIdentifiers,
        outFIleEntityMapping: local!outFileEntityMapping,
        OutFileFieldMapping: local!outFileFieldMapping,
        isSummaryDashboard: true(),
        outEntityFIlters: local!outEntityFilters,
        outEntitySort: local!outEntitySort,
        gtSheetFixedCellsConfigList: local!sheetFixedCellsConfig,
        outFiletype: #"_a-0000e4cd-1af4-8000-5255-1bef901bef90_207034"(outFileTypeConfigId: local!selectedId),
        customGeneration: local!customGeneration,
        fixedCellsFilters: local!fixedCellsFilters
      )
    )
  }
)</definition>
        <namedTypedValue>
            <name>processId</name>
            <type>
                <name>int</name>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </type>
        </namedTypedValue>
        <preferredEditor>interface</preferredEditor>
        <offlineEnabled>false</offlineEnabled>
        <isCustom>false</isCustom>
    </interface>
    <roleMap public="true">
        <role inherit="true" allowForAll="false" name="readers">
            <users/>
            <groups/>
        </role>
        <role inherit="true" allowForAll="false" name="authors">
            <users/>
            <groups/>
        </role>
        <role inherit="true" allowForAll="false" name="administrators">
            <users/>
            <groups/>
        </role>
        <role inherit="false" allowForAll="false" name="denyReaders">
            <users/>
            <groups/>
        </role>
        <role inherit="false" allowForAll="false" name="denyAuthors">
            <users/>
            <groups/>
        </role>
        <role inherit="false" allowForAll="false" name="denyAdministrators">
            <users/>
            <groups/>
        </role>
    </roleMap>
    <typedValue>
        <type>
            <name>RuleTestConfig?list</name>
            <namespace>http://www.appian.com/ae/types/2009</namespace>
        </type>
        <value>
            <el>
                <a:name/>
                <a:ruleInputTestConfigs>
                    <a:value xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="xsd:int">8</a:value>
                    <a:nameRef>processId</a:nameRef>
                    <a:id>1</a:id>
                </a:ruleInputTestConfigs>
                <a:assertions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:nil="true"/>
            </el>
        </value>
    </typedValue>
    <history>
        <historyInfo versionUuid="_a-0000e4dd-0d8b-8000-5257-1bef901bef90_229245"/>
        <historyInfo versionUuid="_a-0000e4e9-ef8d-8000-5259-1bef901bef90_332445"/>
        <historyInfo versionUuid="_a-0000e518-940a-8000-525e-1bef901bef90_525865"/>
        <historyInfo versionUuid="_a-0000e56b-0831-8000-5261-1bef901bef90_684858"/>
        <historyInfo versionUuid="_a-0000eab6-dc46-8000-9be9-011c48011c48_255423"/>
    </history>
</contentHaul>
