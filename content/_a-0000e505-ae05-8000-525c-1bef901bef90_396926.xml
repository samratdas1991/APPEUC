<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<contentHaul xmlns:a="http://www.appian.com/ae/types/2009">
    <versionUuid>_a-0000e505-ae05-8000-525c-1bef901bef90_397330</versionUuid>
    <interface>
        <name>EAP_DataValidationTemplateConfigGrid</name>
        <uuid>_a-0000e505-ae05-8000-525c-1bef901bef90_396926</uuid>
        <description>Hold grid for ref process wf template version grid</description>
        <parentUuid>_a-0000e4c3-7a1b-8000-524f-1bef901bef90_6580</parentUuid>
        <visibility>
            <advertise>false</advertise>
            <hierarchy>true</hierarchy>
            <indexable>true</indexable>
            <quota>false</quota>
            <searchable>true</searchable>
            <system>false</system>
            <unlogged>false</unlogged>
        </visibility>
        <definition>a!localVariables(
  local!getrunConfigData:#"_a-0000e4c3-ab68-8000-5250-1bef901bef90_11827"(isActive: 1,
  processId: ri!processId
  ),
  
  local!runConfigLabel:if(
    #"_a-0000e4b2-6487-8000-2b63-01ef9001ef90_3233095"(local!getrunConfigData.process_display_name),
    null,
    local!getrunConfigData.process_display_name),
  local!runConfigId:index(local!getrunConfigData,"run_config_id",{}),
  local!getDocumentVersionData:#"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_377314"(
    isActive:1,
    processId: ri!processId
  ),
  local!documentName:index(local!getDocumentVersionData,"version_description",{}),
  local!documentVersionId:index(local!getDocumentVersionData,"document_version_id",{}),
  local!documentLabel:#"SYSTEM_SYSRULES_forEach"(items: local!getDocumentVersionData,
  expression: concat(fv!item.document_version_id," - ",fv!item.version_description)),
 { 
   
   #"SYSTEM_SYSRULES_sectionLayout_v1"(
     label: upper("Manage Template Version"),
     marginBelow: "NONE"
   ),
   
   #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_377387"(
     processId :ri!processId
   ),
   #"SYSTEM_SYSRULES_richTextDisplayField"(),
   #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_377834"(
     processId:ri!processId, 
     templateConfigId:ri!templateConfigid
   ),
   #"SYSTEM_SYSRULES_richTextDisplayField"(),
   #"SYSTEM_SYSRULES_cardLayout"(
     showBorder: false(),
     style: "INFO",
     contents: {
       #"SYSTEM_SYSRULES_gridLayout"(

         labelPosition: "ABOVE",
         headerCells: {

           #"SYSTEM_SYSRULES_gridLayoutHeaderCell"(label: "Process Display Name"),

           #"SYSTEM_SYSRULES_gridLayoutHeaderCell"(label: "Document Version"),
           #"SYSTEM_SYSRULES_gridLayoutHeaderCell"(label: "Is Active"),
           if(
             or(ri!isReadonly=true(),count(ri!refProcessTempConfig)=1),
             {},
             #"SYSTEM_SYSRULES_gridLayoutHeaderCell"(label: "")
           )

         },
         columnConfigs: {
           #"SYSTEM_SYSRULES_gridLayoutColumnConfig"(width: "DISTRIBUTE"), 


           #"SYSTEM_SYSRULES_gridLayoutColumnConfig"(width: "DISTRIBUTE"),
           #"SYSTEM_SYSRULES_gridLayoutColumnConfig"(width: "ICON"),
           if(
             or(ri!isReadonly=true(),count(ri!refProcessTempConfig)=1),
             {},
             #"SYSTEM_SYSRULES_gridLayoutColumnConfig"(width: "ICON"))
         },
         rows: {
           #"SYSTEM_SYSRULES_applyComponents"(
             function: #"_a-0000e505-ae05-8000-525c-1bef901bef90_397047"(
               index: _,
               refProcessTempConfig : ri!refProcessTempConfig,
               isReadonly:ri!isReadonly,
               runConfigId:local!runConfigId,
               documentLabel:local!documentLabel,
               documentVersionId:local!documentVersionId,
               runConfigLabel:local!runConfigLabel
             ),
             array: if(
               or(
                 #"_a-0000e4b2-6487-8000-2b63-01ef9001ef90_3233095"(
                   ri!refProcessTempConfig
                 ),
                 count(
                   ri!refProcessTempConfig
                 ) = 0
               ),
               null,
               wherecontains(
                 tointeger(ri!processId),tointeger(index(ri!refProcessTempConfig,"process_id",{}))
               )
             )
           )
         },
         addRowLink: #"SYSTEM_SYSRULES_dynamicLink"(
           label:if(ri!isReadonly=true(),{},"Add Template") ,
           value: #"_a-0000e4e9-ef8d-8000-5259-1bef901bef90_377564"(
             templateConfigid:ri!templateConfigid,
             documentVersionId:if(
               length({ri!refProcessTempConfig})&lt;1,
               ri!documentVersionId,
               null
             ),
             sequenceOrder: if(
               #"_a-0000e4b2-6487-8000-2b63-01ef9001ef90_3233095"(
                 ri!refProcessTempConfig),
                 1,
                 length(ri!refProcessTempConfig)+1
                 ),
             processId: ri!processId,
             runConfigId:if(
               length({ri!refProcessTempConfig})&lt;1,
               ri!runConfigId,
             null),
             isActive:1,
             modifiedBy: loggedInUser(),
             modifiedOn:  now(),
             createdBy: loggedInUser(),
             createdOn:  now()
             
           ),
           saveInto: a!save(
             ri!refProcessTempConfig,
             append(
               ri!refProcessTempConfig,
               save!value
             )
           ),

           showWhen: not(length(
             wherecontains(
               tointeger(ri!processId),
               tointeger(index(ri!refProcessTempConfig,"process_id",{}))
             )
           ) &gt;= 1)
         ),
         validations: {},
         shadeAlternateRows: false()

       ),
       #"SYSTEM_SYSRULES_ButtonLayout"(
         primaryButtons: {
           #"SYSTEM_SYSRULES_ButtonWidget"(
             label: "Submit",
             value: #"_a-0000e4c3-ab68-8000-5250-1bef901bef90_13888"[1],
             saveInto: {
               ri!buttonAction,
               if(
                 #"_a-0000e4b2-6487-8000-2b63-01ef9001ef90_3233095"(
                   ri!refProcessTempConfig[1].sequence_order),

                   a!save(
                     ri!refProcessTempConfig[1].sequence_order,
                     1
                   ),
                   {}
               )},
             submit: true(),
             size: "SMALL",
             style: "STANDARD",
             validate: true

           )
         },
         secondaryButtons: {
           #"SYSTEM_SYSRULES_ButtonWidget"(
             label: "Cancel",
             value: #"_a-0000e4c3-ab68-8000-5250-1bef901bef90_13888"[2],
             saveInto: ri!buttonAction,
             size: "SMALL",
             style: "SECONDARY",
             submit: true(),
             validate:false()
           )
         }
       )
     }
   )
   
 })</definition>
        <namedTypedValue>
            <name>refProcessTempConfig</name>
            <type>
                <name>EAP_T_DVTemplateConfig?list</name>
                <namespace>urn:com:appian:types:eap</namespace>
            </type>
        </namedTypedValue>
        <namedTypedValue>
            <name>isReadonly</name>
            <type>
                <name>boolean</name>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </type>
        </namedTypedValue>
        <namedTypedValue>
            <name>processId</name>
            <type>
                <name>int</name>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </type>
        </namedTypedValue>
        <namedTypedValue>
            <name>runConfigId</name>
            <type>
                <name>int</name>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </type>
        </namedTypedValue>
        <namedTypedValue>
            <name>buttonAction</name>
            <type>
                <name>string</name>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </type>
            <value/>
        </namedTypedValue>
        <namedTypedValue>
            <name>templateConfigid</name>
            <type>
                <name>int</name>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </type>
        </namedTypedValue>
        <namedTypedValue>
            <name>documentVersionId</name>
            <type>
                <name>int</name>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </type>
        </namedTypedValue>
        <preferredEditor>interface</preferredEditor>
        <offlineEnabled>false</offlineEnabled>
        <isCustom>false</isCustom>
    </interface>
    <roleMap public="true">
        <role inherit="true" allowForAll="false" name="readers">
            <users/>
            <groups/>
        </role>
        <role inherit="true" allowForAll="false" name="authors">
            <users/>
            <groups/>
        </role>
        <role inherit="true" allowForAll="false" name="administrators">
            <users/>
            <groups/>
        </role>
        <role inherit="false" allowForAll="false" name="denyReaders">
            <users/>
            <groups/>
        </role>
        <role inherit="false" allowForAll="false" name="denyAuthors">
            <users/>
            <groups/>
        </role>
        <role inherit="false" allowForAll="false" name="denyAdministrators">
            <users/>
            <groups/>
        </role>
    </roleMap>
    <history>
        <historyInfo versionUuid="_a-0000e505-ae05-8000-525c-1bef901bef90_397330"/>
    </history>
</contentHaul>
